/**
 * Generate a minimal valid JPEG image for testing.
 * This is a 1x1 pixel red JPEG image using baseline DCT (not arithmetic coding).
 */
export function createTestJPEG(): Buffer {
  // Minimal valid baseline JPEG (1x1 red pixel)
  // Uses baseline DCT (0xC0) instead of extended arithmetic coding (0xC9)
  return Buffer.from([
    0xff,
    0xd8, // SOI
    0xff,
    0xe0, // APP0 - JFIF
    0x00,
    0x10,
    0x4a,
    0x46,
    0x49,
    0x46,
    0x00,
    0x01,
    0x01,
    0x00,
    0x00,
    0x01,
    0x00,
    0x01,
    0x00,
    0x00,
    0xff,
    0xdb, // DQT - Quantization table
    0x00,
    0x43,
    0x00,
    0x03,
    0x02,
    0x02,
    0x02,
    0x02,
    0x02,
    0x03,
    0x02,
    0x02,
    0x02,
    0x03,
    0x03,
    0x03,
    0x03,
    0x04,
    0x06,
    0x04,
    0x04,
    0x04,
    0x04,
    0x04,
    0x08,
    0x06,
    0x06,
    0x05,
    0x06,
    0x09,
    0x08,
    0x0a,
    0x0a,
    0x09,
    0x08,
    0x09,
    0x09,
    0x0a,
    0x0c,
    0x0f,
    0x0c,
    0x0a,
    0x0b,
    0x0e,
    0x0b,
    0x09,
    0x09,
    0x0d,
    0x11,
    0x0d,
    0x0e,
    0x0f,
    0x10,
    0x10,
    0x11,
    0x10,
    0x0a,
    0x0c,
    0x12,
    0x13,
    0x12,
    0x10,
    0x13,
    0x0f,
    0x10,
    0x10,
    0x10,
    0xff,
    0xc0, // SOF0 - Baseline DCT (changed from 0xc9)
    0x00,
    0x0b,
    0x08,
    0x00,
    0x01,
    0x00,
    0x01,
    0x01,
    0x01,
    0x11,
    0x00,
    0xff,
    0xc4, // DHT - Huffman table
    0x00,
    0x14,
    0x00,
    0x01,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x03,
    0xff,
    0xc4, // DHT - Huffman table 2
    0x00,
    0x14,
    0x10,
    0x01,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0x00,
    0xff,
    0xda, // SOS - Start of scan
    0x00,
    0x08,
    0x01,
    0x01,
    0x00,
    0x00,
    0x3f,
    0x00,
    0xd2,
    0xcf,
    0x20,
    0xff,
    0xd9, // EOI
  ]);
}

/**
 * Generate a minimal valid PNG image for testing.
 * This is a 1x1 pixel transparent PNG image.
 */
export function createTestPNG(): Buffer {
  // Minimal valid PNG (1x1 transparent pixel)
  return Buffer.from([
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d, 0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00,
    0x01, 0x00, 0x00, 0x00, 0x01, 0x08, 0x06, 0x00, 0x00, 0x00, 0x1f, 0x15, 0xc4, 0x89, 0x00, 0x00, 0x00, 0x0a, 0x49,
    0x44, 0x41, 0x54, 0x78, 0x9c, 0x63, 0x00, 0x01, 0x00, 0x00, 0x05, 0x00, 0x01, 0x0d, 0x0a, 0x2d, 0xb4, 0x00, 0x00,
    0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, 0xae, 0x42, 0x60, 0x82,
  ]);
}
